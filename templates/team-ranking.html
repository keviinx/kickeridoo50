{% extends "layout.html" %}

{% block title %}
    Team ranking
{% endblock %}

{% block main %}
    <h1>Team ranking</h1>
    <h6>Note: Table is sortable. Click table header to sort.</h6>
    <table class="table table-striped sortable">
        <thead>
            <tr>
                <th>P1 Name</th>
                <th>P2 Name</th>
                <th>Win</th>
                <th>Draw</th>
                <th>Lose</th>
                <th># of games</th>
                <th>Total</th>
                <th>Average</th>
                <th>Win %</th>
            </tr>
        </thead>

        <tbody>
            {% for team in teams %}
            <tr>
                <td>{{ team[0] }}</td>
                <td>{{ team[1] }}</td>
                <td>{{ team[2] }}</td>
                <td>{{ team[3] }}</td>
                <td>{{ team[4] }}</td>
                <td>{{ team[2] + team[3] + team[4] }}</td>
                <td>{{ ((team[2] * 3) + (team[3] * 1)) }}</td>
                <td>{% if team[2] + team[3] + team[4] != 0 %}
                    {{'%0.2f' | format(((team[2] * 3) + (team[3] * 1)) / (team[2] + team[3] + team[4])|float) }}
                    {% else %}
                    {{ 0 }}
                    {% endif %}
                </td>
                <td>
                    {% if team[2] + team[3] + team[4] != 0 %}
                    {{'%0.2f' | format((team[2] / (team[2] + team[3] + team[4])) * 100|float) }}
                    {% else %}
                    {{ 0 }}
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}